# Enhanced HTTP Client Configuration

# General HTTP Settings
HTTP_DEADLINE_MS=15000
HTTP_MAX_RETRIES=3
HTTP_RATE_LIMIT_PER_SEC=5
HTTP_MAX_CONCURRENCY=2
HTTP_INTER_REQUEST_DELAY_MS=100

# Circuit Breaker Settings
HTTP_CIRCUIT_BREAKER_THRESHOLD=5
HTTP_CIRCUIT_BREAKER_RESET_MS=60000  # 60 seconds for PFR
HTTP_CIRCUIT_BREAKER_HALF_OPEN_MAX_CALLS=3

# Retry Configuration
HTTP_RETRY_BUDGET_PER_BATCH=10
HTTP_BASE_BACKOFF_MS=3000  # Longer initial backoff
HTTP_MAX_BACKOFF_MS=30000
HTTP_JITTER_FACTOR=0.1

# Timeouts
HTTP_CONNECT_TIMEOUT_MS=5000
HTTP_READ_TIMEOUT_MS=10000

# Per-Host Rate Limiting
# Default host settings
HOST_LIMIT__DEFAULT__RPS=1.0
HOST_LIMIT__DEFAULT__BURST=2

# Pro Football Reference specific settings
HOST_LIMIT__www_pro_football_reference_com__RPS=0.4  # PFR tolerates ~0.5 RPS max
HOST_LIMIT__www_pro_football_reference_com__BURST=1

# Baseball Reference (similar to PFR)
HOST_LIMIT__www_baseball_reference_com__RPS=0.4
HOST_LIMIT__www_baseball_reference_com__BURST=1

# Basketball Reference
HOST_LIMIT__www_basketball_reference_com__RPS=0.4
HOST_LIMIT__www_basketball_reference_com__BURST=1

# Hockey Reference
HOST_LIMIT__www_hockey_reference_com__RPS=0.4
HOST_LIMIT__www_hockey_reference_com__BURST=1

# College Football Reference
HOST_LIMIT__www_sports_reference_com__RPS=0.4
HOST_LIMIT__www_sports_reference_com__BURST=1

# Add more host-specific settings as needed
# Format: HOST_LIMIT__<hostname with _ instead of . and ->__RPS=<rate>
# Format: HOST_LIMIT__<hostname with _ instead of . and ->__BURST=<burst>