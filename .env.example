# Database Configuration
DATABASE_URL="postgresql://user:password@localhost:5432/edge_scraper_pro"

# Redis Configuration
REDIS_URL="redis://localhost:6379"

# AWS S3 Configuration
S3_REGION="us-east-1"
S3_BUCKET="edge-scraper-pro-artifacts"
AWS_ACCESS_KEY_ID="your-access-key"
AWS_SECRET_ACCESS_KEY="your-secret-key"

# Application Configuration
APP_BASE_URL="http://localhost:3000"
ALLOWED_ORIGINS="http://localhost:3000,https://yourdomain.com"

# JWT Configuration
JWT_SECRET="your-super-secret-jwt-key-change-in-production"
JWT_EXPIRES_IN="24h"

# HTTP Client Configuration
HTTP_DEADLINE_MS=10000
HTTP_MAX_RETRIES=3
HTTP_RATE_LIMIT_PER_SEC=5
HTTP_MAX_CONCURRENCY=2
HTTP_CIRCUIT_BREAKER_THRESHOLD=5
HTTP_CIRCUIT_BREAKER_RESET_MS=30000

# Per-host rate limiting
HOST_LIMIT__DEFAULT__RPS=1.0
HOST_LIMIT__DEFAULT__BURST=2
HOST_LIMIT__www_pro_football_reference_com__RPS=0.5
HOST_LIMIT__www_pro_football_reference_com__BURST=1

# Retry configuration
HTTP_RETRY_BUDGET_PER_BATCH=10
HTTP_BASE_BACKOFF_MS=1000
HTTP_MAX_BACKOFF_MS=30000
HTTP_JITTER_FACTOR=0.1

# Circuit breaker half-open
HTTP_CIRCUIT_BREAKER_HALF_OPEN_MAX_CALLS=3

# Timeouts
HTTP_CONNECT_TIMEOUT_MS=5000
HTTP_READ_TIMEOUT_MS=10000

# Inter-request delay
HTTP_INTER_REQUEST_DELAY_MS=100
# NDA Reviewer v2

NDA_MAX_DOCX_MB=5

# Optional: author name for tracked changes (defaults to EdgeScraperPro)

NDA_TRACKCHANGES_AUTHOR=EdgeScraperPro

# Netlify fetch-url guardrails

# Set to 'true' to bypass API key enforcement locally.
BYPASS_AUTH=true
# Required API key when BYPASS_AUTH is not true.
PUBLIC_API_KEY=public-2024

# Upstream HTTP guardrails for /.netlify/functions/fetch-url
# GET timeout in milliseconds (min 1000, max 30000).
HTTP_DEADLINE_MS=15000
# Maximum upstream response size in bytes (default 2 MiB).
FETCH_URL_MAX_BYTES=2097152
# Maximum redirect hops followed before failing the request.
FETCH_URL_MAX_REDIRECTS=5
# When true, prevent HTTPS -> HTTP redirects.
FETCH_URL_BLOCK_DOWNGRADE=false
# Comma-separated host suffixes denied for fetch-url targets (case-insensitive).
FETCH_URL_DENYLIST=nip.io,sslip.io,localtest.me

# Netlify CDN caching hints for fetch-url responses
NETLIFY_CDN_MAX_AGE=120
NETLIFY_CDN_SWR=600

# Optional suffix appended to the default scraper User-Agent.
SCRAPER_UA_EXTRA=

