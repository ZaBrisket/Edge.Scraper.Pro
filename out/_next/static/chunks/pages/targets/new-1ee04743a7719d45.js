(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[145],{2824:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>x});var t=a(7876),l=a(4232),r=a(7914),d=a(9099),i=a(7328),n=a.n(i),c=a(97);function o(e){let{onUploadComplete:s}=e,[a,r]=(0,l.useState)({status:"idle",progress:0}),[d,i]=(0,l.useState)(!1),n=(0,c.n)({mutationFn:async e=>{let s=await fetch("/api/uploads/presign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:e.name,contentType:e.type})});if(!s.ok){var a;throw Error((null==(a=(await s.json()).error)?void 0:a.message)||"Failed to get upload URL")}return s.json()}}),o=(0,c.n)({mutationFn:async e=>{let s=await fetch("/api/uploads/commit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({s3Key:e})});if(!s.ok){var a;throw Error((null==(a=(await s.json()).error)?void 0:a.message)||"Failed to commit upload")}return s.json()}}),m=async e=>{try{r({status:"uploading",progress:0});let a=await n.mutateAsync(e);if(r({status:"uploading",progress:25}),!(await fetch(a.uploadUrl,{method:"PUT",body:e,headers:{"Content-Type":e.type}})).ok)throw Error("Failed to upload file");r({status:"processing",progress:75});let t=await o.mutateAsync(a.s3Key);r({status:"success",progress:100}),s({datasetId:t.datasetId,uploadId:t.uploadId,detectedHeaders:t.detectedHeaders})}catch(e){console.error("Upload error:",e),r({status:"error",progress:0,error:e.message||"Upload failed"})}},p=(0,l.useCallback)(e=>{e.preventDefault(),i(!1);let s=Array.from(e.dataTransfer.files)[0];return s?["text/csv","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(s.type)?s.size>0xa00000?void r({status:"error",progress:0,error:"File size must be less than 10MB"}):void m(s):void r({status:"error",progress:0,error:"Please upload a CSV or Excel file (.csv, .xlsx, .xls)"}):void 0},[]),x=(0,l.useCallback)(e=>{e.preventDefault(),i(!0)},[]),u=(0,l.useCallback)(e=>{e.preventDefault(),i(!1)},[]),h=(0,l.useCallback)(e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];a&&m(a)},[]),g="uploading"===a.status||"processing"===a.status;return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"\n          dropzone\n          ".concat(d?"dragover":"","\n          ").concat("error"===a.status?"error":"","\n          ").concat(g?"pointer-events-none opacity-50":"","\n        "),onDrop:p,onDragOver:x,onDragLeave:u,onClick:()=>{var e;return null==(e=document.getElementById("file-input"))?void 0:e.click()},children:[(0,t.jsx)("input",{id:"file-input",type:"file",accept:".csv,.xlsx,.xls",onChange:h,className:"hidden",disabled:g}),(0,t.jsxs)("div",{className:"text-center",children:["idle"===a.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC1"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Drop your target list here"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"or click to browse files"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Supports CSV and Excel files (max 10MB)"})]}),g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"⏳"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"uploading"===a.status?"Uploading...":"Processing..."}),(0,t.jsx)("div",{className:"progress mb-4",children:(0,t.jsx)("div",{className:"progress-bar",style:{width:"".concat(a.progress,"%")}})}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"uploading"===a.status?"Uploading file to secure storage...":"Analyzing file structure and detecting columns..."})]}),"success"===a.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"✅"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2 text-green-600",children:"Upload Complete!"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"File processed successfully. Moving to column mapping..."})]}),"error"===a.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"❌"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2 text-red-600",children:"Upload Failed"}),(0,t.jsx)("p",{className:"text-sm text-red-600 mb-4",children:a.error}),(0,t.jsx)("button",{onClick:()=>{r({status:"idle",progress:0})},className:"btn-primary",children:"Try Again"})]})]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"File Requirements"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsx)("li",{children:"• CSV or Excel format (.csv, .xlsx, .xls)"}),(0,t.jsx)("li",{children:"• Maximum file size: 10MB"}),(0,t.jsx)("li",{children:"• First row should contain column headers"}),(0,t.jsx)("li",{children:"• At least one column with company names"}),(0,t.jsx)("li",{children:"• Recommended: Include city, state, revenue, and executive data"})]})]})]})}function m(e){let{detectedHeaders:s,templates:a,onMappingComplete:r,onBack:d}=e,[i,n]=(0,l.useState)(null),[o,m]=(0,l.useState)({}),[p,x]=(0,l.useState)(null),[u,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{a.length>0&&!i&&n(a.find(e=>{var s;return null==(s=e.sourceHint)?void 0:s.toLowerCase().includes("sourcescrub")})||a[0])},[a,i]);let g=(0,c.n)({mutationFn:async e=>{let a=[],t={},l=new Set;for(let r of s){let s=null;for(let a of e.fields){if(l.has(a.target))continue;let e=r.toLowerCase().replace(/[^a-z0-9]/g,"");for(let t of a.sourceHeaders){let l=t.toLowerCase().replace(/[^a-z0-9]/g,"");if(e===l){s={targetField:a.target,confidence:1};break}if(e.includes(l)||l.includes(e)){let t=.8*Math.min(l.length/e.length,e.length/l.length);(!s||t>s.confidence)&&(s={targetField:a.target,confidence:t})}}}s&&s.confidence>=.6&&(a.push({sourceHeader:r,targetField:s.targetField,confidence:s.confidence}),t[r]=s.targetField,l.add(s.targetField))}let r=s.filter(e=>!t[e]),d=e.fields.filter(e=>e.required).filter(e=>!Object.values(t).includes(e.target)).map(e=>e.target),i=a.length>0?a.reduce((e,s)=>e+s.confidence,0)/a.length:0;return{matches:a,unmappedHeaders:r,requiredFieldsMissing:d,confidence:i,mapping:t}}});(0,l.useEffect)(()=>{i&&g.mutate(i)},[i]),(0,l.useEffect)(()=>{g.data&&(m(g.data.mapping),x({matches:g.data.matches,unmappedHeaders:g.data.unmappedHeaders,requiredFieldsMissing:g.data.requiredFieldsMissing,confidence:g.data.confidence}))},[g.data]);let j=(()=>{if(!i)return{isValid:!1,errors:[]};let e=[],s=new Set(Object.values(o).filter(Boolean)),a=i.fields.filter(e=>e.required).filter(e=>!s.has(e.target)).map(e=>e.target);return a.length>0&&e.push("Required fields not mapped: ".concat(a.join(", "))),{isValid:0===e.length,errors:e}})();return i?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Mapping Template"}),(0,t.jsx)("select",{value:i.id,onChange:e=>(e=>{let s=a.find(s=>s.id===e);s&&n(s)})(e.target.value),className:"w-full",children:a.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.name," v",e.version,e.description&&" - ".concat(e.description)]},e.id))}),i.description&&(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:i.description})]}),p&&(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-900",children:"Auto-Mapping Results"}),(0,t.jsxs)("span",{className:"badge ".concat(p.confidence>=.8?"badge-success":p.confidence>=.6?"badge-warning":"badge-error"),children:[Math.round(100*p.confidence),"% confidence"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-blue-800",children:"Mapped:"}),(0,t.jsxs)("span",{className:"ml-2 text-blue-700",children:[p.matches.length," of ",s.length," columns"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-blue-800",children:"Unmapped:"}),(0,t.jsxs)("span",{className:"ml-2 text-blue-700",children:[p.unmappedHeaders.length," columns"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-blue-800",children:"Missing Required:"}),(0,t.jsxs)("span",{className:"ml-2 ".concat(0===p.requiredFieldsMissing.length?"text-green-700":"text-red-700"),children:[p.requiredFieldsMissing.length," fields"]})]})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{children:"Column Mapping"}),(0,t.jsxs)("button",{onClick:()=>h(!u),className:"btn-secondary text-sm",children:[u?"Hide":"Show"," Advanced Options"]})]})}),(0,t.jsx)("div",{className:"card-body p-0",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"text-left",children:"Source Column"}),(0,t.jsx)("th",{className:"text-left",children:"Target Field"}),(0,t.jsx)("th",{className:"text-left",children:"Required"}),u&&(0,t.jsx)("th",{className:"text-left",children:"Transform"}),(0,t.jsx)("th",{className:"text-left",children:"Status"})]})}),(0,t.jsx)("tbody",{children:s.map(e=>{let s=o[e],a=i.fields.find(e=>e.target===s),l=null==p?void 0:p.matches.find(s=>s.sourceHeader===e);return(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{className:"font-medium",children:[e,l&&(0,t.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["(",Math.round(100*l.confidence),"% match)"]})]}),(0,t.jsx)("td",{children:(0,t.jsxs)("select",{value:s||"",onChange:s=>{var a;return a=s.target.value,void m(s=>({...s,[e]:a}))},className:"w-full",children:[(0,t.jsx)("option",{value:"",children:"-- Select Target Field --"}),i.fields.map(e=>(0,t.jsx)("option",{value:e.target,children:e.target},e.target))]})}),(0,t.jsx)("td",{children:(null==a?void 0:a.required)&&(0,t.jsx)("span",{className:"badge badge-error",children:"Required"})}),u&&(0,t.jsx)("td",{className:"text-sm text-gray-600",children:(null==a?void 0:a.transform)||"None"}),(0,t.jsx)("td",{children:s?(0,t.jsx)("span",{className:"badge badge-success",children:"Mapped"}):(0,t.jsx)("span",{className:"badge badge-secondary",children:"Unmapped"})})]},e)})})]})})})]}),!j.isValid&&(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-red-900 mb-2",children:"Mapping Issues"}),(0,t.jsx)("ul",{className:"text-sm text-red-800 space-y-1",children:j.errors.map((e,s)=>(0,t.jsxs)("li",{children:["• ",e]},s))})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("button",{onClick:d,className:"btn-secondary",children:"Back to Upload"}),(0,t.jsx)("button",{onClick:()=>{i&&r(i.id,o)},disabled:!j.isValid,className:"btn-primary",children:"Continue to Preview"})]})]}):(0,t.jsx)("div",{children:"Loading templates..."})}var p=a(7635);function x(){let e=(0,d.useRouter)(),[s,a]=(0,l.useState)({step:"upload"}),{data:i}=(0,r.I)({queryKey:["templates"],queryFn:async()=>{let e=await fetch("/api/templates");if(!e.ok)throw Error("Failed to fetch templates");return e.json()}});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n(),{children:[(0,t.jsx)("title",{children:"New Target List - Edge Scraper Pro"}),(0,t.jsx)("meta",{name:"description",content:"Upload and format target lists for export"})]}),(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"utss-header",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("h1",{children:"Target List Formatter"}),(0,t.jsx)("p",{children:"Upload → Map → Preview → Export"})]})}),(0,t.jsxs)("main",{className:"container py-8",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center ".concat("upload"===s.step?"text-blue-600":"mapping"===s.step||"preview"===s.step?"text-green-600":"text-gray-400"),children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat("upload"===s.step?"bg-blue-600 text-white":"mapping"===s.step||"preview"===s.step?"bg-green-600 text-white":"bg-gray-200"),children:"1"}),(0,t.jsx)("span",{className:"ml-2",children:"Upload"})]}),(0,t.jsx)("div",{className:"w-16 h-1 ".concat("mapping"===s.step||"preview"===s.step?"bg-green-600":"bg-gray-200")}),(0,t.jsxs)("div",{className:"flex items-center ".concat("mapping"===s.step?"text-blue-600":"preview"===s.step?"text-green-600":"text-gray-400"),children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat("mapping"===s.step?"bg-blue-600 text-white":"preview"===s.step?"bg-green-600 text-white":"bg-gray-200"),children:"2"}),(0,t.jsx)("span",{className:"ml-2",children:"Map Fields"})]}),(0,t.jsx)("div",{className:"w-16 h-1 ".concat("preview"===s.step?"bg-green-600":"bg-gray-200")}),(0,t.jsxs)("div",{className:"flex items-center ".concat("preview"===s.step?"text-blue-600":"text-gray-400"),children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat("preview"===s.step?"bg-blue-600 text-white":"bg-gray-200"),children:"3"}),(0,t.jsx)("span",{className:"ml-2",children:"Preview"})]})]})}),"upload"===s.step&&(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"card-header",children:[(0,t.jsx)("h2",{children:"Upload Target List"}),(0,t.jsx)("p",{children:"Upload your CSV or Excel file containing target company data"})]}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(o,{onUploadComplete:e=>{a({step:"mapping",datasetId:e.datasetId,uploadId:e.uploadId,detectedHeaders:e.detectedHeaders})}})})]}),"mapping"===s.step&&s.detectedHeaders&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"card-header",children:[(0,t.jsx)("h2",{children:"Map Columns"}),(0,t.jsx)("p",{children:"Map your source columns to standardized target fields"})]}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(m,{detectedHeaders:s.detectedHeaders,templates:(null==i?void 0:i.templates)||[],onMappingComplete:(e,s)=>{a(a=>({...a,step:"preview",templateId:e,mapping:s}))},onBack:()=>{a({step:"upload"})}})})]})}),"preview"===s.step&&s.datasetId&&s.templateId&&s.mapping&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{children:"Preview Mapped Data"}),(0,t.jsx)("p",{children:"Review the transformed data before proceeding to final preview"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{a(e=>({...e,step:"mapping"}))},className:"btn-secondary",children:"Back to Mapping"}),(0,t.jsx)("button",{onClick:()=>{s.datasetId&&e.push("/targets/".concat(s.datasetId,"/preview"))},className:"btn-primary",children:"Continue to Export"})]})]})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(p.A,{datasetId:s.datasetId,templateId:s.templateId,customMapping:s.mapping})})]})})]})]})]})}},3788:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/targets/new",function(){return a(2824)}])},7635:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});var t=a(7876),l=a(7914),r=a(1895),d=a(4232);function i(e){var s;let{datasetId:a,templateId:i,customMapping:n,sampleSize:c=50}=e,o=(0,d.useRef)(null),{data:m,isLoading:p,error:x}=(0,l.I)({queryKey:["preview",a,i,n,c],queryFn:async()=>{let e=await fetch("/api/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({datasetId:a,templateId:i,customMapping:n,sampleSize:c})});if(!e.ok){var s;throw Error((null==(s=(await e.json()).error)?void 0:s.message)||"Failed to load preview")}return e.json()}}),u=(0,r.Te)({count:(null==m?void 0:m.sampleRows.transformed.length)||0,getScrollElement:()=>o.current,estimateSize:()=>50});if(p)return(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading preview..."})]})});if(x)return(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-red-900 mb-2",children:"Preview Error"}),(0,t.jsx)("p",{className:"text-red-800",children:x.message})]});if(!m)return null;let h=m.columns.target.filter(e=>Object.values(m.mapping).includes(e.name));return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-900",children:"Dataset"}),(0,t.jsx)("p",{className:"text-blue-800",children:m.dataset.name}),(0,t.jsxs)("p",{className:"text-sm text-blue-700",children:["~",null==(s=m.dataset.rowsEstimated)?void 0:s.toLocaleString()," rows"]})]}),(0,t.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-green-900",children:"Template"}),(0,t.jsx)("p",{className:"text-green-800",children:m.template.name}),(0,t.jsxs)("p",{className:"text-sm text-green-700",children:["v",m.template.version]})]}),(0,t.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-purple-900",children:"Mapping Quality"}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)("span",{className:"badge ".concat(m.mappingStats.mappingComplete?"badge-success":"badge-warning"),children:[m.mappingStats.mappedHeaders,"/",m.mappingStats.totalHeaders," mapped"]})}),(0,t.jsxs)("p",{className:"text-sm text-purple-700",children:[m.mappingStats.requiredFieldsMapped,"/",m.mappingStats.requiredFieldsTotal," ","required"]})]})]}),(!m.mappingStats.mappingComplete||m.unmappedHeaders.length>0)&&(0,t.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-yellow-900 mb-2",children:"Mapping Warnings"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[!m.mappingStats.mappingComplete&&(0,t.jsx)("p",{className:"text-yellow-800",children:"• Some required fields are not mapped and may result in incomplete data"}),m.unmappedHeaders.length>0&&(0,t.jsxs)("p",{className:"text-yellow-800",children:["• Unmapped columns: ",m.unmappedHeaders.join(", ")]})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"card-header",children:[(0,t.jsxs)("h3",{children:["Data Preview (",m.sampleRows.transformed.length," sample rows)"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Showing transformed data as it will appear in the final export"})]}),(0,t.jsx)("div",{className:"card-body p-0",children:(0,t.jsx)("div",{ref:o,className:"h-96 overflow-auto",children:(0,t.jsxs)("div",{style:{height:"".concat(u.getTotalSize(),"px"),width:"100%",position:"relative"},children:[(0,t.jsx)("div",{className:"sticky top-0 z-10 bg-gray-50 border-b",children:(0,t.jsx)("div",{className:"flex",children:h.map(e=>(0,t.jsxs)("div",{className:"flex-1 min-w-32 px-4 py-3 text-sm font-medium text-gray-900 border-r",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{children:e.name}),e.required&&(0,t.jsx)("span",{className:"badge badge-error text-xs",children:"Required"})]}),e.transform&&(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Transform: ",e.transform]})]},e.name))})}),u.getVirtualItems().map(e=>{let s=m.sampleRows.transformed[e.index];return(0,t.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"".concat(e.size,"px"),transform:"translateY(".concat(e.start,"px)")},className:"flex ".concat(e.index%2==0?"bg-white":"bg-gray-50"," border-b hover:bg-blue-50"),children:h.map(e=>{var a;return(0,t.jsx)("div",{className:"flex-1 min-w-32 px-4 py-3 text-sm border-r",children:(0,t.jsx)("div",{className:"truncate",title:null==(a=s[e.name])?void 0:a.toString(),children:null!==s[e.name]&&void 0!==s[e.name]?s[e.name].toString():(0,t.jsx)("span",{className:"text-gray-400 italic",children:e.defaultValue||"N/A"})})},e.name)})},e.index)})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:m.sampleRows.transformed.length}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Sample Rows"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:h.length}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Mapped Fields"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:m.mappingStats.requiredFieldsMapped}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Required Fields"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[Math.round(m.mappingStats.mappedHeaders/m.mappingStats.totalHeaders*100),"%"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Coverage"})]})]})]})}}},e=>{e.O(0,[737,636,593,792],()=>e(e.s=3788)),_N_E=e.O()}]);