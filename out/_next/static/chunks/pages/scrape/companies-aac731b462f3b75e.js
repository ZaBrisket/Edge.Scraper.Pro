(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[536],{1480:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var t=a(7876),l=a(4232),n=a(564),r=a(6652),i=a(3208),c=a(3988),o=a(4320);function d(){let[e,s]=(0,l.useState)(""),[a,d]=(0,l.useState)({enablePaginationDiscovery:!0,enableUrlNormalization:!0,extractionDepth:"basic",concurrency:3,delayMs:1e3}),[m,u]=(0,l.useState)(null),[x,p]=(0,l.useState)(null);return(0,t.jsx)(n.A,{title:"Web Scraping - Companies",children:(0,t.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)(r.A,{}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)(i.A,{taskName:"companies",onSubmit:s=>{let t=e.split("\n").map(e=>e.trim()).filter(e=>e.length>0);return 0===t.length?void alert("Please enter at least one URL"):t.length>500?void alert("Maximum 500 URLs allowed for companies mode"):void u({urls:t,options:a})},isSubmitting:!!m,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"urls",className:"block text-sm font-medium text-gray-700",children:"Directory URLs (one per line)"}),(0,t.jsx)("textarea",{id:"urls",rows:10,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm font-mono",placeholder:"https://www.d2pbuyersguide.com/filter/all/page/1 https://directory.example.com/suppliers https://business-directory.com/companies",value:e,onChange:e=>s(e.target.value),disabled:!!m}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Maximum 500 URLs. Estimated processing time: ~2s per URL"})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Extraction Options"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",checked:a.enablePaginationDiscovery,onChange:e=>d(s=>({...s,enablePaginationDiscovery:e.target.checked})),disabled:!!m}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Enable pagination discovery"})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",checked:a.enableUrlNormalization,onChange:e=>d(s=>({...s,enableUrlNormalization:e.target.checked})),disabled:!!m}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Enable URL normalization"})]})})]}),(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("label",{htmlFor:"extractionDepth",className:"block text-sm font-medium text-gray-700",children:"Extraction Depth"}),(0,t.jsxs)("select",{id:"extractionDepth",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:a.extractionDepth,onChange:e=>d(s=>({...s,extractionDepth:e.target.value})),disabled:!!m,children:[(0,t.jsx)("option",{value:"basic",children:"Basic (company name, contact info)"}),(0,t.jsx)("option",{value:"detailed",children:"Detailed (full company profile)"})]})]})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Performance Settings"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"concurrency",className:"block text-sm font-medium text-gray-700",children:"Concurrent requests"}),(0,t.jsx)("input",{type:"number",id:"concurrency",min:"1",max:"20",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:a.concurrency,onChange:e=>d(s=>({...s,concurrency:parseInt(e.target.value)})),disabled:!!m})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"delayMs",className:"block text-sm font-medium text-gray-700",children:"Delay between requests (ms)"}),(0,t.jsx)("input",{type:"number",id:"delayMs",min:"0",max:"10000",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:a.delayMs,onChange:e=>d(s=>({...s,delayMs:parseInt(e.target.value)})),disabled:!!m})]})]})]})]})}),(0,t.jsxs)("div",{className:"lg:col-span-1",children:[m&&(0,t.jsx)(c.A,{taskName:"companies",input:m,onComplete:e=>{p(e)},onError:e=>{alert("Job failed: ".concat(e)),u(null)}}),x&&(0,t.jsx)(o.A,{result:x,taskName:"companies",onDownload:e=>{let s,a,t;if(!x)return;"json"===e?(s=JSON.stringify(x,null,2),a="companies-".concat(Date.now(),".json"),t="application/json"):(s=[["URL","Name","Website","Email","Phone","Address","Description"],...(x.companies||[]).map(e=>[e.url,e.name||"",e.website||"",e.email||"",e.phone||"",e.address||"",e.description||""])].map(e=>e.map(e=>'"'.concat(String(e).replace(/"/g,'""'),'"')).join(",")).join("\n"),a="companies-".concat(Date.now(),".csv"),t="text/csv");let l=new Blob([s],{type:t}),n=URL.createObjectURL(l),r=document.createElement("a");r.href=n,r.download=a,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}})]})]})]})})}},2016:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/scrape/companies",function(){return a(1480)}])}},e=>{e.O(0,[8,320,636,593,792],()=>e(e.s=2016)),_N_E=e.O()}]);