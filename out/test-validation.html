<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PFR Validator Test</title>
    <script src="pfr-validator.js"></script>
    <style>
        body { font-family: monospace; padding: 20px; }
        .test-section { margin: 20px 0; border: 1px solid #ccc; padding: 10px; }
        .valid { color: green; }
        .invalid { color: red; }
        pre { background: #f0f0f0; padding: 10px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>PFR URL Validator Test Page</h1>
    
    <div class="test-section">
        <h2>Test URLs</h2>
        <pre id="test-urls">https://www.pro-football-reference.com/players/M/MahoPa00.htm
https://www.pro-football-reference.com/players/B/BradTo00.htm
https://www.pro-football-reference.com/players/M/MahoPa00.htm?utm_source=test
https://www.espn.com/nfl/player/mahomes
https://www.pro-football-reference.com/teams/kan/2023.htm
not-a-url
https://www.pro-football-reference.com/players/M/Invalid00.htm</pre>
    </div>
    
    <div class="test-section">
        <h2>Validation Results</h2>
        <div id="results"></div>
    </div>
    
    <script>
        const validator = new PFRValidator();
        const testUrls = document.getElementById('test-urls').textContent.trim().split('\n');
        
        console.log('Testing PFR Validator...');
        
        // Test batch validation
        const batchResult = validator.validateBatch(testUrls);
        console.log('Batch result:', batchResult);
        
        // Display results
        const resultsDiv = document.getElementById('results');
        
        // Show summary
        resultsDiv.innerHTML = `
            <h3>Summary</h3>
            <p>Total: ${batchResult.total}</p>
            <p class="valid">Valid: ${batchResult.summary.validCount}</p>
            <p class="invalid">Invalid: ${batchResult.summary.invalidCount}</p>
            <p style="color: orange">Duplicates: ${batchResult.summary.duplicateCount}</p>
            
            <h3>Details</h3>
            <div id="report"></div>
        `;
        
        // Show HTML report
        document.getElementById('report').innerHTML = validator.generateHTMLReport(batchResult);
        
        console.log('Text report:\n', validator.generateReport(batchResult));
    </script>
</body>
</html>